<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="D√©couvrez la nouvelle radio du valenciennois VAFM et les derni√®res actualit√©s." />
  <title>VAFM - La radio qu'il vous faut</title>
  <link rel="icon" type="image/png" sizes="32x32" href="assets/logo gris vafm.png">
  <link rel="stylesheet" href="style.css">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8497430727637938" crossorigin="anonymous"></script>
  <meta name="google-adsense-account" content="ca-pub-8497430727637938">

  <style>
    .dedicace-marquee {
      width: 100%;
      overflow: hidden;
      background-color: #970A0A;
      color: white;
      font-weight: bold;
      font-size: 18px;
      padding: 10px 0;
      position: relative;
    }

    .dedicace-track {
      display: inline-block;
      white-space: nowrap;
      animation: defilement 30s linear infinite;
      padding-left: 100%;
    }

    @keyframes defilement {
      0% { transform: translateX(0); }
      100% { transform: translateX(-100%); }
    }
  </style>
</head>
<body>
  <div class="page-wrapper">
    <!-- Barre rouge -->
    <header class="top-bar">
      <div class="logo-zone">
        <img src="assets/erasebg-transformed.png" alt="Logo de VAFM" class="logo">
      </div>
      <div class="text">
        <h1>Bienvenue sur VAFM</h1>
      </div>
      <div class="hamburger" id="menuToggle">
        <span></span><span></span><span></span>
      </div>
    </header>

    <!-- Barre noire -->
    <div class="sub-bar"></div>

    <!-- Menu lat√©ral -->
    <nav class="side-menu" id="sideMenu">
      <a href="index.html">Accueil</a>
      <a href="direct.html">√âcouter le direct</a>
      <a href="programmes.html">Programmes</a>
      <a href="histoire.html">Histoire</a>
      <div class="social-links">
        <a href="#"><img src="assets/facebook.png" alt="Facebook"></a>
        <a href="#"><img src="assets/instagram.png" alt="Instagram"></a>
        <a href="#"><img src="assets/youtube.png" alt="YouTube"></a>
        <a href="#"><img src="assets/pinterest.png" alt="Pinterest"></a>
      </div>
    </nav>

    <!-- Contenu principal -->
    <main class="container">
      <!-- Cartes d'articles -->
      <!-- ... (tes cartes restent inchang√©es) ... -->

      <!-- Bandeau d√©filant -->
      <div class="dedicace-marquee">
        <div class="dedicace-track" id="dedicaceMarquee"></div>
      </div>

      <!-- D√©dicaces en direct -->
      <section class="live-dedicace">
        <h2>D√©dicace</h2>
        <form id="dedicaceForm">
          <input type="text" id="nom" placeholder="Ton pr√©nom ou pseudo" required>
          <textarea id="message" placeholder="Ta d√©dicace..." required></textarea>
          <button type="submit">Envoyer</button>
        </form>
        <div id="dedicaceFeed" class="dedicace-feed"></div>
      </section>

      <!-- Pub personnalis√©e -->
      <div style="text-align: center; margin-top: 30px;">
        <a href="https://www.facebook.com/la.touche.personnelle.2024" target="_blank">
          <img src="assets/PUB thomas.png" alt="La Touche Personnelle" style="max-width: 50%; height: auto; border-radius: 12px;">
        </a>
      </div>
    </main>

    <!-- Footer -->
    <!-- ... (ton footer reste inchang√©) ... -->
  </div>

  <!-- Firebase SDK version 8 -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Menu toggle
      const toggleBtn = document.getElementById("menuToggle");
      const sideMenu = document.getElementById("sideMenu");
      toggleBtn.addEventListener("click", () => {
        sideMenu.classList.toggle("open");
        toggleBtn.classList.toggle("open");
      });

      // Firebase config
      const firebaseConfig = {
        apiKey: "AIzaSyBiMcAmaOy9g-5Ail2lmj4adxNBNzW4IGk",
        authDomain: "vafm-dedicaces.firebaseapp.com",
        databaseURL: "https://vafm-dedicaces-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "vafm-dedicaces",
        storageBucket: "vafm-dedicaces.appspot.com",
        messagingSenderId: "553720861929",
        appId: "1:553720861929:web:87739d3bfa41ed5b50cc78"
      };

      firebase.initializeApp(firebaseConfig);
      const db = firebase.database();

      // D√©dicace en direct
      const form = document.getElementById("dedicaceForm");
      const feed = document.getElementById("dedicaceFeed");
      const marquee = document.getElementById("dedicaceMarquee");

      form.addEventListener("submit", e => {
        e.preventDefault();
        const nom = document.getElementById("nom").value.trim();
        const message = document.getElementById("message").value.trim();
        if (nom && message) {
          db.ref("dedicaces").push({ nom, message });
          form.reset();
        }
      });

      db.ref("dedicaces").on("child_added", snapshot => {
        const data = snapshot.val();

        // Affichage dans le flux
        const div = document.createElement("div");
        div.classList.add("dedicace-entry");
        div.innerHTML = `<strong>${data.nom} :</strong> ${data.message}`;
        feed.prepend(div);

        // Ajout dans le bandeau d√©filant
        const span = document.createElement("span");
        span.textContent = ` üéôÔ∏è ${data.nom} : ${data.message}  ‚Ä¢ `;
        marquee.appendChild(span);
      });
    });
  </script>

  <script data-goatcounter="https://vafm.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</body>
</html>
